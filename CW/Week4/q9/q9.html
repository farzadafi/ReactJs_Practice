<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>

        @font-face {
            src: url("Vazir.ttf");
            font-family: 'farzad';

        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        html, body {
            background-color: gray;
            padding: 30px;
        }

        .main-container {
            display: grid;
            grid-template-columns: 1fr 4fr;
            font-family: 'farzad', serif;
            gap: 10px;
        }

        .form {
            background-color: orange;
            height: 400px;
            width: 100%;
            display: grid;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            border-radius: 25px;
        }

        .form p {
            margin: auto;
        }

        .form input {
            height: 40px;
            padding: 10px;
            border: none;
            border-radius: 25px;
        }

        .form button {
            background-color: deeppink;
            border: none;
            border-radius: 25px;
            height: 35px;
            width: 120px;
            margin: auto;
            color: white;
            font-family: 'farzad', serif;
            font-size: 15px;
            font-weight: bold;
        }

        .form button:hover {
            background-color: purple;
            cursor: pointer;
        }

        .table {
            width: 100%;
            height: 100%;
            background-color: deeppink;
            border-radius: 25px;
        }

        table {
            padding: 20px;
            width: 100%;
            height: 100%;
        }

        table th {
            width: 450px;
            height: 50px;
        }

        tr {
        }

        td {
            text-align: center;
            height: 10px;
        }

        .remove-btn {
            background-color: orangered;
            height: 40px;
            width: 100px;
            border: none;
            border-radius: 30px;
            color: white;
        }

        .edit-btn {
            background-color: purple;
            height: 40px;
            width: 100px;
            border: none;
            border-radius: 30px;
            color: white;
        }

        .remove-btn:hover {
            cursor: pointer;
            background-color: orange;
        }

        .edit-btn:hover {
            cursor: pointer;
            background-color: rebeccapurple;
        }


    </style>

</head>
<body>
<div class="main-container">
    <div class="form">
        <p>فرم ورود اطلاعات</p>
        <label for="rowId" aria-disabled="true">
            <input id="rowId" value="1" type="number" hidden="hidden">
        </label>
        <label for="tempRowNumber" aria-disabled="true">
            <input id="tempRowNumber" type="number" hidden="hidden">
        </label>
        <label for="firstname">
            <input id="firstname" type="text" placeholder="نام">
        </label>
        <label for="lastname">
            <input id="lastname" type="text" placeholder="نام خانوادگی">
        </label>
        <label for="email">
            <input id="email" type="email" placeholder="ایمیل">
        </label>
        <label for="phone">
            <input id="phone" type="tel" placeholder="شماره تلفن">
        </label>
        <button onclick="getInformation()">ثبت اطلاعات</button>
    </div>
    <div class="table">
        <table id="table">
            <tr>
                <th>شناسه</th>
                <th>نام</th>
                <th>نام خانوادگی</th>
                <th>ایمیل</th>
                <th>شماره تلفن</th>
                <th>ویرایش</th>
                <th>حذف</th>
            </tr>
            <tr id="tr">
            </tr>
        </table>
    </div>
</div>


<script>

    window.onload = () => {
        document.getElementById("rowId").value = Number(1);
        document.getElementById("tempRowNumber").value = Number(-1);
        document.getElementById('firstname').value = '';
        document.getElementById('lastname').value = '';
        document.getElementById('email').value = '';
        document.getElementById('phone').value = '';
    }

    const getInformation = () => {
        let tempRowNumber = Number(document.getElementById('tempRowNumber').value);
        let id;
        let isTemp = 1;
        if (tempRowNumber === -1)
            id = document.getElementById('rowId').value;
        else {
            id = document.getElementById('tempRowNumber').value;
            isTemp = 0;
        }
        let firstname = document.getElementById('firstname').value;
        let lastname = document.getElementById('lastname').value;
        let email = document.getElementById('email').value;
        let phone = document.getElementById('phone').value;

        let information = [id, firstname, lastname, email, phone];
        setInformation(information, isTemp);
    }

    const setInformation = (information, isTemp) => {
        let tableRow = document.getElementById('table');
        let row = document.createElement("tr");
        let firstname = document.createElement("td");
        let lastname = document.createElement("td");
        let email = document.createElement("td");
        let phone = document.createElement("td");
        let id = document.createElement("td");
        let editButton = document.createElement("button");
        let editTd = document.createElement("td");
        let removeButton = document.createElement("button");
        let removeTd = document.createElement("td");
        id.innerHTML = information[0];
        firstname.innerHTML = information[1];
        lastname.innerHTML = information[2];
        email.innerHTML = information[3];
        phone.innerHTML = information[4]
        editButton.innerHTML = 'ویرایش';
        removeButton.innerHTML = 'حذف';
        removeButton.setAttribute('onclick', `deleteSpecificRows(${information[0]})`);
        editButton.className = "edit-btn";
        editTd.append(editButton);
        editButton.setAttribute('onclick', `editSpecificRows(${information[0]})`);
        removeButton.className = "remove-btn";
        removeTd.append(removeButton);


        row.append(id, firstname, lastname, email, phone, editTd, removeTd);
        row.setAttribute('id', `tr${information[0]}`);
        tableRow.appendChild(row);
        document.getElementById('tempRowNumber').value = -1;

        if (Number(isTemp) !== 0)
            increaseIdValue(information[0])
        if (isTemp === 0)
            deleteSpecificRows(information[0]);

        document.getElementById('firstname').value = '';
        document.getElementById('lastname').value = '';
        document.getElementById('email').value = '';
        document.getElementById('phone').value = '';
    }

    const increaseIdValue = (numberId) => {
        document.getElementById("rowId").value = Number(++numberId);
    }

    const deleteSpecificRows = (rowId) => {
        let row = document.getElementById(`tr${rowId}`);
        row.remove();
    }

    const editSpecificRows = (rowId) => {
        let row = document.getElementById(`tr${rowId}`);
        let td = row.getElementsByTagName('td');

        let rowNumber = td[0].innerHTML;
        let firstname = td[1].innerHTML;
        let lastname = td[2].innerHTML;
        let email = td[3].innerHTML;
        let phone = td[4].innerHTML;


        document.getElementById('firstname').value = firstname;
        document.getElementById('lastname').value = lastname;
        document.getElementById('email').value = email;
        document.getElementById('phone').value = phone;
        document.getElementById('tempRowNumber').value = rowNumber;
    }

</script>
</body>
</html>